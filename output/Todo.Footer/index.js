// Generated by purs version 0.13.6
import * as Data_Array from "../Data.Array/index.js";
import * as Data_Eq from "../Data.Eq/index.js";
import * as Data_Generic_Rep from "../Data.Generic.Rep/index.js";
import * as Data_Generic_Rep_Show from "../Data.Generic.Rep.Show/index.js";
import * as Data_Show from "../Data.Show/index.js";
import * as Data_String_Common from "../Data.String.Common/index.js";
import * as Data_Symbol from "../Data.Symbol/index.js";
import * as Foreign_Generic_EnumEncoding from "../Foreign.Generic.EnumEncoding/index.js";
import * as React_Basic from "../React.Basic/index.js";
import * as React_Basic_DOM from "../React.Basic.DOM/index.js";
import * as React_Basic_DOM_Generated from "../React.Basic.DOM.Generated/index.js";
import * as Simple_JSON from "../Simple.JSON/index.js";
import * as Todo_View from "../Todo.View/index.js";
var All = (function () {
    function All() {

    };
    All.value = new All();
    return All;
})();
var Completed = (function () {
    function Completed() {

    };
    Completed.value = new Completed();
    return Completed;
})();
var Active = (function () {
    function Active() {

    };
    Active.value = new Active();
    return Active;
})();
var genericVisibility = new Data_Generic_Rep.Generic(function (x) {
    if (x instanceof All) {
        return new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value);
    };
    if (x instanceof Completed) {
        return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inl(Data_Generic_Rep.NoArguments.value));
    };
    if (x instanceof Active) {
        return new Data_Generic_Rep.Inr(new Data_Generic_Rep.Inr(Data_Generic_Rep.NoArguments.value));
    };
    throw new Error("Failed pattern match at Todo.Footer (line 24, column 1 - line 24, column 58): " + [ x.constructor.name ]);
}, function (x) {
    if (x instanceof Data_Generic_Rep.Inl) {
        return All.value;
    };
    if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inl) {
        return Completed.value;
    };
    if (x instanceof Data_Generic_Rep.Inr && x.value0 instanceof Data_Generic_Rep.Inr) {
        return Active.value;
    };
    throw new Error("Failed pattern match at Todo.Footer (line 24, column 1 - line 24, column 58): " + [ x.constructor.name ]);
});
var readVisibility = new Simple_JSON.ReadForeign(Foreign_Generic_EnumEncoding.genericDecodeEnum(genericVisibility)(Foreign_Generic_EnumEncoding.sumGenericDecodeEnum(Foreign_Generic_EnumEncoding.ctorNoArgsGenericDecodeEnum(new Data_Symbol.IsSymbol(function () {
    return "All";
})))(Foreign_Generic_EnumEncoding.sumGenericDecodeEnum(Foreign_Generic_EnumEncoding.ctorNoArgsGenericDecodeEnum(new Data_Symbol.IsSymbol(function () {
    return "Completed";
})))(Foreign_Generic_EnumEncoding.ctorNoArgsGenericDecodeEnum(new Data_Symbol.IsSymbol(function () {
    return "Active";
})))))({
    constructorTagTransform: Data_String_Common.toLower
}));
var showVisibility = new Data_Show.Show(Data_Generic_Rep_Show.genericShow(genericVisibility)(Data_Generic_Rep_Show.genericShowSum(Data_Generic_Rep_Show.genericShowConstructor(Data_Generic_Rep_Show.genericShowArgsNoArguments)(new Data_Symbol.IsSymbol(function () {
    return "All";
})))(Data_Generic_Rep_Show.genericShowSum(Data_Generic_Rep_Show.genericShowConstructor(Data_Generic_Rep_Show.genericShowArgsNoArguments)(new Data_Symbol.IsSymbol(function () {
    return "Completed";
})))(Data_Generic_Rep_Show.genericShowConstructor(Data_Generic_Rep_Show.genericShowArgsNoArguments)(new Data_Symbol.IsSymbol(function () {
    return "Active";
}))))));
var writeVisibility = new Simple_JSON.WriteForeign(Foreign_Generic_EnumEncoding.genericEncodeEnum(genericVisibility)(Foreign_Generic_EnumEncoding.sumGenericEncodeEnum(Foreign_Generic_EnumEncoding.ctorNoArgsGenericEncodeEnum(new Data_Symbol.IsSymbol(function () {
    return "All";
})))(Foreign_Generic_EnumEncoding.sumGenericEncodeEnum(Foreign_Generic_EnumEncoding.ctorNoArgsGenericEncodeEnum(new Data_Symbol.IsSymbol(function () {
    return "Completed";
})))(Foreign_Generic_EnumEncoding.ctorNoArgsGenericEncodeEnum(new Data_Symbol.IsSymbol(function () {
    return "Active";
})))))({
    constructorTagTransform: Data_String_Common.toLower
}));
var eqVisibility = new Data_Eq.Eq(function (x) {
    return function (y) {
        if (x instanceof All && y instanceof All) {
            return true;
        };
        if (x instanceof Completed && y instanceof Completed) {
            return true;
        };
        if (x instanceof Active && y instanceof Active) {
            return true;
        };
        return false;
    };
});
var component = React_Basic.createComponent("Footer");
var changeVisibilityLink = function (uri) {
    return function (visibility) {
        return function (actualVisibility) {
            return React_Basic_DOM_Generated.li_([ React_Basic_DOM_Generated.a()({
                className: (function () {
                    var $13 = Data_Eq.eq(eqVisibility)(visibility)(actualVisibility);
                    if ($13) {
                        return "selected";
                    };
                    return "";
                })(),
                href: uri,
                children: [ React_Basic_DOM.text(Data_Show.show(showVisibility)(visibility)) ]
            }) ]);
        };
    };
};
var render = function (props) {
    var tasksCompleted = Data_Array.length(Data_Array.filter(function (v) {
        return v.completed;
    })(props.tasks));
    var tasksLeft = Data_Array.length(props.tasks) - tasksCompleted | 0;
    var pluralizedItem = (function () {
        var $14 = tasksLeft === 1;
        if ($14) {
            return " item";
        };
        return " items";
    })();
    return React_Basic_DOM_Generated.footer()({
        className: "footer",
        hidden: Data_Array["null"](props.tasks),
        children: [ Todo_View.classy(React_Basic_DOM_Generated.span())("todo-count")([ React_Basic_DOM_Generated.strong_([ React_Basic_DOM.text(Data_Show.show(Data_Show.showInt)(tasksLeft)) ]), React_Basic_DOM.text(pluralizedItem + " left") ]), Todo_View.classy(React_Basic_DOM_Generated.ul())("filters")([ changeVisibilityLink("#/")(All.value)(props.visibility), React_Basic_DOM.text(" "), changeVisibilityLink("#/active")(Active.value)(props.visibility), React_Basic_DOM.text(" "), changeVisibilityLink("#/completed")(Completed.value)(props.visibility) ]), React_Basic_DOM_Generated.button()({
            className: "clear-completed",
            hidden: tasksCompleted === 0,
            onClick: props.onClearCompleted,
            children: [ React_Basic_DOM.text("Clear completed") ]
        }) ]
    });
};
var footer = React_Basic.makeStateless(component)(render);
export {
    All,
    Completed,
    Active,
    component,
    footer,
    render,
    changeVisibilityLink,
    eqVisibility,
    genericVisibility,
    showVisibility,
    readVisibility,
    writeVisibility
};
